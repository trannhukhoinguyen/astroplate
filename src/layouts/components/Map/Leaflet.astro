---
import {getTranslations} from "../../../lib/utils/languageParser";
import {ContentEntryMap} from "astro:content";
import mapDb from "../../../db/maps/mapDb";

const { lang } = Astro.params;
const { gao_min, tu_an } = await getTranslations(lang as keyof ContentEntryMap);
---
<html lang="en">
<head>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
          crossorigin=""></script>
  <style>
    .maps {
      height: 500px;
      width: 100%;
    }
  </style>
</head>

<body>
<div class="mb-8">
  <div style="display: flex; justify-content: space-between;">
    <div style="flex: 1; padding-right: 10px;">
      <a href="/monasteries/gao-min" target="_blank">
        <h1>{gao_min}</h1>
        <img width="300px" decoding="async" src="https://peacelilysite.com/wp-content/uploads/2022/09/6782f74c-b11f-4bbb-bf50-973e4e6680d3.jpeg" />
        <p>
          {
            !lang || lang === 'vi'
              ? 'Vị trí Chùa Cao Mân 高旻寺 : tọa lạc tại thành phố Dương Châu tỉnh Giang Tô, nằm ở nơi giao nhau giữa Cổ Vận Hà (con sông đào có từ thời Nhà Tùy) và sông Nghi Dương.'
              : 'Location of Gao Man Temple 高旻寺: located in Yangzhou city, Jiangsu province, at the intersection of Co Yunhe (a canal dating back to the Sui Dynasty) and Yiyang River.'
          }
        </p>
      </a>
    </div>
    <div style="flex: 3; padding-left: 10px;" client:load>
      <div id="gao-min" class="maps" client:load></div>
    </div>
  </div>


</div>
<div class="mb-8">
  <div style="display: flex; justify-content: space-between;">
    <div style="flex: 1; padding-right: 10px;">
      <a href="/monasteries/tu-an" target="_blank">
        <h1>{tu_an}</h1>
        <img width="300px" decoding="async" src="https://tosuthien.com/wp-content/uploads/2021/11/245606675_242571897750276_3066781601464414675_n.jpg" />
        <p>
          {
            !lang || lang === 'vi'
              ? 'Từ Ân Thiền Đường là một ngôi chùa nhỏ ở Santa Ana, có những độc đáo riêng, khó tìm được ở nhiều nơi khác. Bạn sẽ không nghe tiếng tụng kinh nơi đây, kể cả những ngày Chủ Nhật.'
              : 'Tu An Zen Temple is a small temple in Santa Ana, with its own unique qualities that are difficult to find in many other places. You will not hear chanting here, even on Sundays.'
          }
        </p>
      </a>
    </div>
    <div style="flex: 3; padding-left: 10px;" client:load>
      <div id="tu-an" class="maps" client:load></div>
    </div>
  </div>

</div>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const gaoMin = L.map('gao-min').setView([32.32652, 119.41237], 16);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy;'
    }).addTo(gaoMin);

    // Add a marker
    L.marker([32.32652, 119.41237]).addTo(gaoMin)
      .bindPopup('GAO MIN MONASTERY')
      .openPopup();
  });

  document.addEventListener("DOMContentLoaded", () => {
    const tuAn = L.map('tu-an').setView([33.74861, -117.92682], 18);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy;'
    }).addTo(tuAn);

    // Add a marker
    L.marker([33.74861, -117.92682]).addTo(tuAn)
      .bindPopup('TU AN ZEN TEMPLE')
      .openPopup();
  });
</script>
</body>
</html>
