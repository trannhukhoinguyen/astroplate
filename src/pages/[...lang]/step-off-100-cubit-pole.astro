---
import { generalRealms, allRealms } from "@/db/realmDb.tsx";
import Base from "@/layouts/Base.astro";
import { getListPage } from "@/lib/contentParser.astro";
import { supportedLang } from "@/lib/utils/languageParser";
import type { ContentEntryMap } from "astro:content";
import {slugSelector} from "../../lib/utils/languageParser";
import {humanize, slugify} from "../../lib/utils/textConverter";
import Gate from "@/components/Gate.astro";

export function getStaticPaths() {
  const paths = supportedLang.map((lang) => ({
    params: { lang: lang || undefined },
  }));
  return paths;
}

const { lang } = Astro.params;
const about = await getListPage("dharma-realm", lang as keyof ContentEntryMap);

const { Content } = await about[0].render();
const { title, description, meta_title, image } = about[0].data;

---
<script>
  console.log('Dharma Realm');
</script>
<Base>
  <div style="position: relative; z-index: 2000">
    {
      generalRealms?.map((realm: string, index: number) => (
        <ol>
          <li>
            <a
              href={slugSelector(`/dharma-realm/${slugify(realm)}`, lang)}
            >
              {realm}
            </a>
          </li>
        </ol>
      ))
    }
  </div>
  <Gate />
</Base>


